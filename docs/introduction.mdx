---
title: "Introduction"
description: "Composable React Three Fiber wrapper around mujoco-js"
icon: "rocket"
---

# mujoco-react

**mujoco-react** is a composable [React Three Fiber](https://r3f.docs.pmnd.rs/) wrapper around [mujoco-js](https://github.com/nicepkg/mujoco-js). It provides components for loading models, stepping physics, and rendering bodies. Controllers like IK are opt-in plugins.

<CardGroup cols={2}>
  <Card title="Composable" icon="puzzle-piece">
    `<SceneRenderer />`, `<IkGizmo />`, `<Debug />` etc. are R3F children you add to your scene.
  </Card>
  <Card title="Bring Your Own Controller" icon="scale-balanced">
    Controllers are React components that call `useBeforePhysicsStep`. Write your own or use the built-in ones.
  </Card>
  <Card title="Bring Your Own IK" icon="plug">
    Plug in any IK solver via `ikSolveFn`, or skip `IkController` entirely and solve IK yourself in `useBeforePhysicsStep`.
  </Card>
  <Card title="Full MuJoCo" icon="atom">
    Contacts, sensors, tendons, flex bodies, raycasting, domain randomization. The full MuJoCo API via React hooks.
  </Card>
</CardGroup>

## Quick Start

```bash
npm install mujoco-react mujoco-js @react-three/fiber @react-three/drei three
```

```tsx
import {
  MujocoProvider, MujocoCanvas, SceneRenderer, IkController, IkGizmo,
} from 'mujoco-react';
import { OrbitControls } from '@react-three/drei';

function App() {
  return (
    <MujocoProvider>
      <MujocoCanvas
        config={{
          robotId: 'franka_emika_panda',
          sceneFile: 'scene.xml',
          homeJoints: [1.707, -1.754, 0.003, -2.702, 0.003, 0.951, 2.490],
        }}
        camera={{ position: [2, -1.5, 2.5], up: [0, 0, 1], fov: 45 }}
        shadows
        style={{ width: '100%', height: '100vh' }}
      >
        <OrbitControls makeDefault />
        <SceneRenderer />
        <IkController config={{ siteName: 'tcp', numJoints: 7 }}>
          <IkGizmo />
        </IkController>
        <ambientLight intensity={0.7} />
        <directionalLight position={[1, 2, 5]} castShadow />
      </MujocoCanvas>
    </MujocoProvider>
  );
}
```

This loads the Franka Panda from [DeepMind Menagerie](https://github.com/google-deepmind/mujoco_menagerie), renders all bodies, and adds an interactive IK gizmo on the end-effector.

## Bring Your Own Controller

A controller is a React component that calls `useBeforePhysicsStep` to write `data.ctrl` each frame:

```tsx
import { useBeforePhysicsStep } from 'mujoco-react';

function MyController() {
  useBeforePhysicsStep((_model, data) => {
    data.ctrl[0] = Math.sin(data.time);        // sine wave on actuator 0
    data.ctrl[1] = data.sensordata[0] * -0.5;  // feedback from a sensor
  });
  return null;
}
```

Add it as a child of `<MujocoCanvas>`:

```tsx
<MujocoCanvas config={config}>
  <SceneRenderer />
  <MyController />
</MujocoCanvas>
```

IK, teleoperation, RL policies, state machines all follow this pattern. The built-in `<IkController>` is itself built this way. You can also [plug in your own IK solver](/components/ik-controller#with-custom-solver) or skip it entirely.

<Tip>
  See the [Building Controllers](/guides/building-controllers) guide for config-driven patterns, `createController` factory, IK gizmo coexistence, and multi-arm support.
</Tip>

## Design Philosophy

mujoco-react follows the same pattern as [react-three-rapier](https://github.com/pmndrs/react-three-rapier):

- **Library handles MuJoCo engine concerns only**: WASM lifecycle, physics stepping, body rendering
- **Controllers are opt-in plugins**: IK, teleoperation, custom controllers are composable components
- **Consumers compose everything else**: lights, grid, camera controls, UI, game logic
- **All scene elements are R3F children**: no config objects for visual-only things

Two ways to set up your scene:

<Tabs>
  <Tab title="MujocoCanvas (quick start)">
    Wraps R3F `<Canvas>` for you:
    ```tsx
    <MujocoCanvas config={config}>
      <SceneRenderer />
      <ContactMarkers />
      <IkController config={{ siteName: 'tcp', numJoints: 7 }}>
        <IkGizmo />
      </IkController>
      <OrbitControls />
      <ambientLight />
    </MujocoCanvas>
    ```
  </Tab>
  <Tab title="MujocoPhysics (bring your own Canvas)">
    Use inside your own `<Canvas>` for full control over gl settings, post-processing, and R3F context:
    ```tsx
    <Canvas shadows camera={{ position: [2, 2, 2] }} gl={{ antialias: true }}>
      <MujocoPhysics config={config}>
        <SceneRenderer />
        <MyController />
      </MujocoPhysics>
      <OrbitControls />
      <EffectComposer>...</EffectComposer>
    </Canvas>
    ```
  </Tab>
</Tabs>

## Next Steps

<CardGroup cols={2}>
  <Card title="Building Controllers" icon="gamepad" href="/guides/building-controllers">
    Write your own controller, bring your own IK, use the `createController` factory
  </Card>
  <Card title="Installation" icon="download" href="/installation">
    Peer dependencies, bundler setup, and WASM notes
  </Card>
  <Card title="Architecture" icon="sitemap" href="/architecture">
    Provider → Canvas → children pattern and physics loop
  </Card>
  <Card title="Loading Models" icon="file-code" href="/loading-models">
    SceneConfig, Menagerie, custom model sources
  </Card>
</CardGroup>
